@page "/"
@inject MediatR.IMediator _mediator
@* We can now use this mediator to find what we need *@

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<ul>
	@foreach (var p in people)
	{
		<li>@p.FirstName @p.LastName</li>
	}
</ul>

@code{
	List<PersonModel> people;

	// This is called at the beginning when the page is loaded.
	protected override async Task OnInitializedAsync()
	{
		// get list of people from the service
		people = await _mediator.Send(new GetPersonListQuery());

		// MediatR said I've got a new Send request and the data is of type GetPersonListQuery - who handles that?
		// Go to Handlers, you'll see GetPersonListHandler handles GetPersonListQuery.
	}
}
